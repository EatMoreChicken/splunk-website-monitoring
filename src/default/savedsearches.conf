[website_availability_overview]
enableSched = 0
dispatch.earliest_time = -24h
dispatch.latest_time = now
search = sourcetype="web_ping" | fillnull response_code value="Connection failed" | eval response_code=if(timed_out == "True", "Connection timed out", response_code) | stats sparkline(avg(total_time)) as sparkline_response_time avg(total_time) as avg_response_time max(total_time) as max_response_time latest(response_code) as response_code latest(_time) as last_checked latest(title) as title latest(total_time) as response_time range(total_time) as range min(total_time) as min by url | eval response_time=round(response_time, 2)." ms" | eval average=round(avg_response_time, 2)." ms" | eval maximum=round(max_response_time, 2)." ms" | eval range=round(min, 0)." - ".round(min+range, 0)." ms" | table title url response_code last_checked response_time average range sparkline_response_time | `timesince(last_checked,last_checked)`

[website_performance_problems]
enableSched = 0
dispatch.earliest_time = -24h
dispatch.latest_time = now
search = sourcetype="web_ping" (response_code>=400 OR timed_out=True OR total_time>`response_time_limit`) | fillnull response_code value="Connection failed" | eval response_code=if(timed_out == "True", "Connection timed out", response_code) | stats count as count max(total_time) as max_total_time by title url response_code | eval max_total_time=round(max_total_time, 2)." ms"